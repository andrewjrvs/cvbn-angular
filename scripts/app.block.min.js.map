{"version":3,"sources":["app/dropBlock/block.factory.js","app/dropBlock/player.factory.js","app/dropBlock/board.factory.js","app/dropBlock/game.factory.js","app/dropBlock/dropBlock.module.js","app/dropBlock/main.block.js"],"names":["root","colors","Offset","x","y","this","Block","shape","offset","prototype","rotate","dir","tmpPeice","length","forEach","row","reverse","createPeice","type","blockFactory","get","letter","randomBlock","peices","Math","random","window","Player","score","reset","drop","move","playerFactory","new","Board","canvas","el","arena","width","height","context","getContext","scale","createMatrix","drawBoard","clearRect","draw","point","shadow","self","value","fillStyle","fillRect","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","arenaSweep","rowCount","rtnPoints","outer","splice","fill","unshift","checkForHit","m","o","merge","w","h","matrix","push","Array","boardFactory","document","settings","ListCount","Game","board","player","highScore","newPeiceList","lastTime","dropCounter","dropInterval","populatePeiceList","call","shift","clearHighScore","start","console","log","playerRotate","pos","playerMove","playerDrop","update","time","deltaTime","i","len","gameFactory","TypeError","O","Object","arguments","relativeStart","k","max","min","end","relativeEnd","undefined","final","app","register","ng","core","NgModule","imports","platformBrowser","CommonModule","declarations","exports","bootstrap","Class","constructor","game","gm","getElementById","blockDropStart","requestAnimationFrame","bind","addEventListener","event","keyCode"],"mappings":"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","file":"scripts/app.block.min.js"}